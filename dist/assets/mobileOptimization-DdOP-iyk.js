import{r as a}from"./index-xKifkbJu.js";const o={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function r(){const[i,e]=a.useState({width:typeof window<"u"?window.innerWidth:0,height:typeof window<"u"?window.innerHeight:0});return a.useEffect(()=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),i}function c(i){const{width:e}=r();return e>=o[i]}function u(){return!c("md")}class s{static instance;imageObserver=null;preloadQueue=[];static getInstance(){return s.instance||(s.instance=new s),s.instance}initLazyLoading(){"IntersectionObserver"in window&&(this.imageObserver=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){const n=t.target;n.dataset.src&&(n.src=n.dataset.src,n.classList.remove("lazy"),this.imageObserver?.unobserve(n))}})}),document.querySelectorAll("img[data-src]").forEach(e=>{this.imageObserver?.observe(e)}))}preloadResource(e,t="image"){if(this.preloadQueue.includes(e))return;this.preloadQueue.push(e);const n=document.createElement("link");switch(n.rel="preload",n.href=e,t){case"image":n.as="image";break;case"script":n.as="script";break;case"style":n.as="style";break}document.head.appendChild(n)}enableReducedMotion(){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(document.documentElement.style.setProperty("--animation-duration","0.01ms"),document.documentElement.style.setProperty("--transition-duration","0.01ms"))}enableBatteryOptimizations(){"getBattery"in navigator&&navigator.getBattery().then(e=>{e.level<.2&&document.documentElement.classList.add("low-battery"),e.addEventListener("levelchange",()=>{e.level<.2?document.documentElement.classList.add("low-battery"):document.documentElement.classList.remove("low-battery")})})}}function l(){const i=s.getInstance();if(i.initLazyLoading(),i.enableReducedMotion(),i.enableBatteryOptimizations(),!document.querySelector('meta[name="viewport"]')){const t=document.createElement("meta");t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes",document.head.appendChild(t)}document.body.style.touchAction="manipulation",document.querySelectorAll("input, select, textarea").forEach(t=>{t.style.fontSize="16px"})}export{o as BREAKPOINTS,s as MobilePerformanceOptimizer,l as initMobileOptimizations,u as useIsMobile,c as useMediaQuery,r as useScreenSize};
