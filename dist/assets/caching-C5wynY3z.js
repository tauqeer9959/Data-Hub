class a{cache=new Map;maxSize;defaultTTL;stats={hits:0,misses:0,size:0,hitRate:0};constructor(t=100,s=300*1e3){this.maxSize=t,this.defaultTTL=s}set(t,s,c){const i=Date.now()+(c||this.defaultTTL);if(this.cache.size>=this.maxSize){const h=this.cache.keys().next().value;this.cache.delete(h)}this.cache.set(t,{data:s,timestamp:Date.now(),expires:i}),this.updateStats()}get(t){const s=this.cache.get(t);return s?Date.now()>s.expires?(this.cache.delete(t),this.stats.misses++,this.updateStats(),null):(this.stats.hits++,this.updateStats(),s.data):(this.stats.misses++,this.updateStats(),null)}delete(t){const s=this.cache.delete(t);return this.updateStats(),s}clear(){this.cache.clear(),this.stats={hits:0,misses:0,size:0,hitRate:0}}has(t){const s=this.cache.get(t);return s?Date.now()>s.expires?(this.cache.delete(t),!1):!0:!1}getStats(){return{...this.stats}}updateStats(){this.stats.size=this.cache.size;const t=this.stats.hits+this.stats.misses;this.stats.hitRate=t>0?this.stats.hits/t*100:0}cleanup(){const t=Date.now();let s=0;for(const[c,i]of this.cache.entries())t>i.expires&&(this.cache.delete(c),s++);return this.updateStats(),s}}const n=new a(50,120*1e3),r=new a(30,300*1e3),l=new a(30,300*1e3),u=new a(30,600*1e3),o=new a(30,600*1e3),p=new a(20,180*1e3),d={dashboardStats:(e,t)=>`dashboard:${e}:${t}`,subjects:(e,t)=>`subjects:${e}:${t}`,semesters:(e,t)=>`semesters:${e}:${t}`,projects:(e,t)=>`projects:${e}:${t}`,certificates:(e,t)=>`certificates:${e}:${t}`,gpaCalculation:(e,t)=>`gpa:${e}:${t}`,profile:e=>`profile:${e}`,semesterGPA:(e,t)=>`semester-gpa:${e}:${t}`};function f(){setInterval(()=>{n.cleanup(),r.cleanup(),l.cleanup(),u.cleanup(),o.cleanup(),p.cleanup()},3e5)}export{a as AdvancedCache,d as CacheKeys,o as certificatesCache,n as dashboardCache,p as gpaCache,u as projectsCache,l as semestersCache,f as startCacheCleanup,r as subjectsCache};
