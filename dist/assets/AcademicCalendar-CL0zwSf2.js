import{c as Y,u as Z,a as ee,r as h,t as d,j as e,E as z,H as se,g as l,J as I,K as M,M as H,N as O,z as c,I as f,D as B,C as E,b as S,d as b,n as te,e as T,B as A,av as $,P as ie}from"./index-DwFtUS-7.js";import{C as ae}from"./calendar-QNCQlYhT.js";import{S as j,a as p,b as g,c as v,d as t}from"./select-BaWgPczu.js";import{P as re}from"./plus-BPUQF-qH.js";import{S as W}from"./square-pen-Dt97TDIR.js";import{T as q}from"./trash-2-DR-DX5in.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],y=Y("clock",le);function pe(){const{user:ne,session:de}=Z(),{currentLevel:R}=ee(),[o,m]=h.useState({month:new Date,events:[],selectedDate:null}),[ce,k]=h.useState(!0),[_,N]=h.useState(!1),[r,n]=h.useState(null),[w,J]=h.useState("all"),[a,u]=h.useState({title:"",description:"",date:new Date,type:"assignment",priority:"medium",reminders:[1,7]}),K=[{id:"1",title:"Database Final Exam",description:"Comprehensive exam covering all semester material",date:new Date("2024-02-15"),type:"exam",priority:"high",status:"pending",reminders:[1,3,7]},{id:"2",title:"Web Development Project Due",description:"Final project submission for COMP-3001",date:new Date("2024-02-10"),type:"project",priority:"high",status:"pending",reminders:[1,7]},{id:"3",title:"AWS Certification Exam",description:"AWS Developer Associate certification",date:new Date("2024-02-20"),type:"certificate",priority:"medium",status:"pending",reminders:[1,7,14]},{id:"4",title:"Assignment 3 Due",description:"Data Structures assignment",date:new Date("2024-02-05"),type:"assignment",priority:"medium",status:"completed",reminders:[1,3]}];h.useEffect(()=>{U()},[R,o.month]);const U=async()=>{k(!0);try{await new Promise(s=>setTimeout(s,500)),m(s=>({...s,events:K}))}catch{d.error("Failed to load calendar events")}finally{k(!1)}},G=async()=>{if(!a.title||!a.date){d.error("Please fill in required fields");return}try{const s={id:Date.now().toString(),title:a.title,description:a.description||"",date:a.date,type:a.type||"assignment",priority:a.priority||"medium",status:"pending",reminders:a.reminders||[1,7]};m(i=>({...i,events:[...i.events,s]})),u({title:"",description:"",date:new Date,type:"assignment",priority:"medium",reminders:[1,7]}),N(!1),d.success("Event added successfully")}catch{d.error("Failed to add event")}},Q=async s=>{try{m(i=>({...i,events:i.events.map(x=>x.id===s.id?s:x)})),n(null),d.success("Event updated successfully")}catch{d.error("Failed to update event")}},F=async s=>{try{m(i=>({...i,events:i.events.filter(x=>x.id!==s)})),d.success("Event deleted successfully")}catch{d.error("Failed to delete event")}},P=async s=>{try{m(i=>({...i,events:i.events.map(x=>x.id===s?{...x,status:x.status==="completed"?"pending":"completed"}:x)})),d.success("Status updated")}catch{d.error("Failed to update status")}},L=s=>o.events.filter(i=>i.date.toDateString()===s.toDateString()),X=()=>w==="all"?o.events:o.events.filter(s=>s.type===w),C=s=>{switch(s){case"exam":return"bg-red-500";case"project":return"bg-blue-500";case"assignment":return"bg-green-500";case"certificate":return"bg-purple-500";case"deadline":return"bg-orange-500";case"reminder":return"bg-gray-500";default:return"bg-gray-500"}},D=s=>{switch(s){case"high":return e.jsx(ie,{className:"h-4 w-4 text-red-500"});case"medium":return e.jsx(y,{className:"h-4 w-4 text-yellow-500"});case"low":return e.jsx(y,{className:"h-4 w-4 text-green-500"});default:return e.jsx(y,{className:"h-4 w-4 text-gray-500"})}},V=o.events.filter(s=>s.date>=new Date&&s.status!=="completed").sort((s,i)=>s.date.getTime()-i.date.getTime()).slice(0,5);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Academic Calendar"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your deadlines, exams, and important dates"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(j,{value:w,onValueChange:J,children:[e.jsx(p,{className:"w-32",children:e.jsx(g,{})}),e.jsxs(v,{children:[e.jsx(t,{value:"all",children:"All Events"}),e.jsx(t,{value:"exam",children:"Exams"}),e.jsx(t,{value:"assignment",children:"Assignments"}),e.jsx(t,{value:"project",children:"Projects"}),e.jsx(t,{value:"certificate",children:"Certificates"})]})]}),e.jsxs(z,{open:_,onOpenChange:N,children:[e.jsx(se,{asChild:!0,children:e.jsxs(l,{children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Add Event"]})}),e.jsxs(I,{children:[e.jsxs(M,{children:[e.jsx(H,{children:"Add New Event"}),e.jsx(O,{children:"Create a new academic event, deadline, or reminder"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"title",children:"Title *"}),e.jsx(f,{id:"title",value:a.title,onChange:s=>u({...a,title:s.target.value}),placeholder:"Event title"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",value:a.description,onChange:s=>u({...a,description:s.target.value}),placeholder:"Event description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"type",children:"Type"}),e.jsxs(j,{value:a.type,onValueChange:s=>u({...a,type:s}),children:[e.jsx(p,{children:e.jsx(g,{})}),e.jsxs(v,{children:[e.jsx(t,{value:"assignment",children:"Assignment"}),e.jsx(t,{value:"exam",children:"Exam"}),e.jsx(t,{value:"project",children:"Project"}),e.jsx(t,{value:"certificate",children:"Certificate"}),e.jsx(t,{value:"deadline",children:"Deadline"}),e.jsx(t,{value:"reminder",children:"Reminder"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"priority",children:"Priority"}),e.jsxs(j,{value:a.priority,onValueChange:s=>u({...a,priority:s}),children:[e.jsx(p,{children:e.jsx(g,{})}),e.jsxs(v,{children:[e.jsx(t,{value:"low",children:"Low"}),e.jsx(t,{value:"medium",children:"Medium"}),e.jsx(t,{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Date *"}),e.jsx(f,{type:"datetime-local",value:a.date?.toISOString().slice(0,16),onChange:s=>u({...a,date:new Date(s.target.value)})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e.jsx(l,{onClick:G,children:"Add Event"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(E,{className:"lg:col-span-2",children:[e.jsx(S,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5"}),"Calendar View"]})}),e.jsxs(T,{children:[e.jsx(ae,{mode:"single",selected:o.selectedDate,onSelect:s=>m(i=>({...i,selectedDate:s})),modifiers:{hasEvents:s=>L(s).length>0},modifiersStyles:{hasEvents:{backgroundColor:"#3b82f6",color:"white"}},className:"w-full"}),o.selectedDate&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("h4",{className:"font-medium",children:["Events for ",o.selectedDate.toLocaleDateString()]}),L(o.selectedDate).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${C(s.type)}`}),e.jsx("span",{className:"text-sm",children:s.title}),D(s.priority)]}),e.jsx(A,{variant:s.status==="completed"?"secondary":"default",children:s.status})]},s.id))]})]})]}),e.jsxs(E,{children:[e.jsx(S,{children:e.jsx(b,{children:"Upcoming Events"})}),e.jsxs(T,{className:"space-y-3",children:[V.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${C(s.type)}`}),e.jsx("span",{className:"font-medium text-sm",children:s.title}),D(s.priority)]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.date.toLocaleDateString()," at ",s.date.toLocaleTimeString()]}),s.description&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.description.slice(0,50),"..."]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>P(s.id),children:s.status==="completed"?e.jsx($,{className:"h-4 w-4 text-green-500"}):e.jsx(y,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>n(s),children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(q,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"h-px bg-border"})]},s.id)),V.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No upcoming events"})]})]})]}),e.jsxs(E,{children:[e.jsx(S,{children:e.jsx(b,{children:"All Events"})}),e.jsx(T,{children:e.jsx("div",{className:"space-y-3",children:X().map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${C(s.type)}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:s.title}),D(s.priority),e.jsx(A,{variant:"outline",className:"text-xs",children:s.type})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.date.toLocaleDateString()," at ",s.date.toLocaleTimeString()]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{variant:s.status==="completed"?"secondary":"default",children:s.status}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>P(s.id),children:s.status==="completed"?e.jsx($,{className:"h-4 w-4 text-green-500"}):e.jsx(y,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>n(s),children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(q,{className:"h-4 w-4"})})]})]},s.id))})})]}),r&&e.jsx(z,{open:!!r,onOpenChange:()=>n(null),children:e.jsxs(I,{children:[e.jsxs(M,{children:[e.jsx(H,{children:"Edit Event"}),e.jsx(O,{children:"Modify the details of your academic event"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-title",children:"Title"}),e.jsx(f,{id:"edit-title",value:r.title,onChange:s=>n({...r,title:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"edit-description",children:"Description"}),e.jsx(B,{id:"edit-description",value:r.description,onChange:s=>n({...r,description:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Type"}),e.jsxs(j,{value:r.type,onValueChange:s=>n({...r,type:s}),children:[e.jsx(p,{children:e.jsx(g,{})}),e.jsxs(v,{children:[e.jsx(t,{value:"assignment",children:"Assignment"}),e.jsx(t,{value:"exam",children:"Exam"}),e.jsx(t,{value:"project",children:"Project"}),e.jsx(t,{value:"certificate",children:"Certificate"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Priority"}),e.jsxs(j,{value:r.priority,onValueChange:s=>n({...r,priority:s}),children:[e.jsx(p,{children:e.jsx(g,{})}),e.jsxs(v,{children:[e.jsx(t,{value:"low",children:"Low"}),e.jsx(t,{value:"medium",children:"Medium"}),e.jsx(t,{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Date"}),e.jsx(f,{type:"datetime-local",value:r.date.toISOString().slice(0,16),onChange:s=>n({...r,date:new Date(s.target.value)})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{variant:"outline",onClick:()=>n(null),children:"Cancel"}),e.jsx(l,{onClick:()=>Q(r),children:"Save Changes"})]})]})]})})]})}export{pe as AcademicCalendar};
